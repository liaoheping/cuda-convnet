[data_gal]
type=data
dataIdx=0

[data_pro]
type=data
dataIdx=1

[labels]
type=data
dataIdx=2

[conv1_gal]
type=conv
inputs=data_gal
filters=16
padding=0
stride=1
filterSize=4
channels=3
neuron=relu
partialSum=1
sharedBiases=1
initW=0.04
initWFunc=winitfile.makew(conv1)
initBFunc=winitfile.makeb(conv1)

[pool1_gal]
type=pool
pool=max
inputs=conv1_gal
start=0
sizeX=2
stride=2
outputsX=0
channels=16

[conv2_gal]
type=conv
inputs=pool1_gal
filters=32
padding=0
stride=1
filterSize=3
channels=16
neuron=relu
partialSum=1
sharedBiases=1
initW=0.04
initWFunc=winitfile.makew(conv2)
initBFunc=winitfile.makeb(conv2)


[pool2_gal]
type=pool
pool=max
inputs=conv2_gal
start=0
sizeX=2
stride=2
outputsX=0
channels=32


[local3_gal]
type=local
inputs=pool2_gal
filters=48
padding=0
stride=1
filterSize=3
channels=32
neuron=relu
initW=0.04
initWFunc=winitfile.makew(local3)
initBFunc=winitfile.makeb(local3)


[pool3_gal]
type=pool
pool=max
inputs=local3_gal
start=0
sizeX=2
stride=2
outputsX=0
channels=48

[local4_gal]
type=local
inputs=pool3_gal
filters=64
padding=0
stride=1
filterSize=2
channels=48
neuron=relu
initW=0.04
initWFunc=winitfile.makew(local4)
initBFunc=winitfile.makeb(local4)

[fc5_gal]
type=fc
outputs=160
inputs=local4_gal,pool3_gal
neuron=ident
initW=0.01,0.01
initWFunc=winitfile.makew(fc5)
initBFunc=winitfile.makeb(fc5)






[conv1_pro]
type=conv
inputs=data_pro
filters=16
padding=0
stride=1
filterSize=4
channels=3
neuron=relu
partialSum=1
sharedBiases=1
initW=0.04
initWFunc=winitfile.makew(conv1)
initBFunc=winitfile.makeb(conv1)


[pool1_pro]
type=pool
pool=max
inputs=conv1_pro
start=0
sizeX=2
stride=2
outputsX=0
channels=16

[conv2_pro]
type=conv
inputs=pool1_pro
filters=32
padding=0
stride=1
filterSize=3
channels=16
neuron=relu
partialSum=1
sharedBiases=1
initW=0.04
initWFunc=winitfile.makew(conv2)
initBFunc=winitfile.makeb(conv2)


[pool2_pro]
type=pool
pool=max
inputs=conv2_pro
start=0
sizeX=2
stride=2
outputsX=0
channels=32

[local3_pro]
type=local
inputs=pool2_pro
filters=48
padding=0
stride=1
filterSize=3
channels=32
neuron=relu
initW=0.04
initWFunc=winitfile.makew(local3)
initBFunc=winitfile.makeb(local3)

[pool3_pro]
type=pool
pool=max
inputs=local3_pro
start=0
sizeX=2
stride=2
outputsX=0
channels=48

[local4_pro]
type=local
inputs=pool3_pro
filters=64
padding=0
stride=1
filterSize=2
channels=48
neuron=relu
initW=0.04
initWFunc=winitfile.makew(local4)
initBFunc=winitfile.makeb(local4)

[fc5_pro]
type=fc
outputs=160
inputs=local4_pro,pool3_pro
neuron=ident
initW=0.01,0.01
initWFunc=winitfile.makew(fc5)
initBFunc=winitfile.makeb(fc5)


[fc6]
type=fc
outputs=160
inputs=fc5_gal,fc5_pro
initW=0.01,0.01
neuron=ident
dropout=0.4

[fc7]
type=fc
outputs=2
inputs=fc6
initW=0.01
neuron=ident

[probs]
type=softmax
inputs=fc7

[logprob]
type=cost.logreg
inputs=labels,probs
